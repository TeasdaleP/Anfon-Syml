<div class="row">
  <h1 class="ui huge dividing header">{{ title | titlecase }}</h1>
</div>
<div class="ui raised violet card fluid">
  <div class="content">
    <div class="description">
      <form
        class="ui large form"
        [formGroup]="messageForm"
        (ngSubmit)="onSubmit(messageForm.value)">
        <div class="ui form error" *ngIf="error">
            <div class="ui error message">
              <p>Error! Please enter the correct template information and re-sumbit.</p>
            </div>
        </div>
        <div class="ui form success" *ngIf="success">
            <div class="ui success message">
              <p>Success! Your template has been submitted successfully.</p>
            </div>
        </div>
        <br />
        <div class="ui grid">
          <div class="two column row">
            <div class="eight wide column">
              <div class="field {{error? 'error': ''}}">
                <label>Select your Template</label>
                <select formControlName="template">
                  <option
                    *ngFor="let template of (template$ | async)"
                    value="{{ template.content }}"
                    >{{ template.title }} - {{ template.channel }}</option
                  >
                </select>
              </div>
            </div>
            <div class="eight wide column">
              <div class="field {{error? 'error': ''}}">
                <label>Select the Channel</label>
                <select formControlName="channel">
                  <option value="SMS">SMS</option>
                  <option value="Email">Email</option>
                </select>
              </div>
            </div>
          </div>
          <br />
          <div class="one column row">
            <div class="sixteen wide column">
              <div class="field {{error? 'error': ''}}">
                <label>Customer Reference</label>
                <input type="text" formControlName="reference" />
              </div>
            </div>
          </div>
          <div class="two column row">
            <div class="eight wide column">
              <div class="field {{error? 'error': ''}}">
                <label>Email Address</label>
                <input type="text" formControlName="email" />
              </div>
            </div>
            <div class="eight wide column">
              <div class="field {{error? 'error': ''}}">
                <label>Mobile Number</label>
                <input type="text" formControlName="telephone" />
              </div>
            </div>
          </div>
        </div>
        <br />
        <button
          class="ui right floated large violet submit button"
          (click)="onSubmit()">
          Send
        </button>
      </form>
    </div>
  </div>
</div>
